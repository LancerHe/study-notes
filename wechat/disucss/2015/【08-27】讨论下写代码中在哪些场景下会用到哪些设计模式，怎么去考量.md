> 转载自：<http://mp.weixin.qq.com/s?__biz=MzA3MDA2MjE2OQ==&amp;mid=210746774&amp;idx=1&amp;sn=b67f18da0931f27d844ea701795a9e5f&amp;scene=1&amp;srcid=bDszC5OUM8M3gKqv0za2#rd>

#### 今日话题

讨论下写代码中在哪些场景下会用到哪些设计模式，怎么去考量？ - 阿辉

1. 可擴展的場景下 易讀易維護 - timedcy
2. 据说GoF没写出过什么像样的软件 - Charles
3. 设计PHP框架的时候 单例 注册树 😄 - Lee. Li
4. 写代码时有没有一些墨守成规的事例，比如连接数据库用单例，过滤器用装饰之类的…… - 阿辉～Brook
5. 一两个需求小项目不用框架设计模式，用了反而会加大工作量，长期维护的要用框架的用的多 - Pelle
6. 有些基本的东西，是任何时候要装在脑子里的，模式只是实现它们的一些手段而已，或者说是别人用的手段，见识过就行了，没必要为了用而用，这些基本的东西就很基本了，比如抽象，封装，高内聚，低耦合，high fan in, low fan out 之类的。 - Charles
7. 你每次遇到一样的问题，肯定会用一样的方法解决问题，这就是模式，而 GOF 是告诉你那些经过前辈验证的，最优的，大家一致认可的通用解决方案，就算你不学，写着写着也会接近于设计模式 - 周成清
8. 之前做程序。也不懂设计模式什么的。。然后就按照自己想法搞。后来学习了设计模式。发现我做的东西很多地方都是符合某一种设计模式的概念 - 熊mao
9. 同不喜欢设计模式这个概念，其实只要把握基本的原则就好了，就像上面说的那些抽象，高内聚，低耦合之类的。我喜欢go的另一个原因就是它把很多事情都抽象成了数据结构＋行为，就像程序＝数据结构＋算法一样。不过，设计模式在一些场景一下用于沟通还是很不错的 - 廖强
10. 如果一个场景明显到可以用个模式的，我就用个lib解决了 - Charles
11. 其实并不是为了用而用，而是想借鉴，以便以后遇到类似的场景 - 阿辉～Brook
12. 模式跟lib是两个概念，前者是对某类问题的一个抽象总结，lib是实现而已 - 廖强
13. 写PHP的很多都不用刻意用设计模式，php动态语言，实现功能很方便。php项目一般追求快速迭代，总修改的东西一般注重快速实现。 - Nemo
14. 对的，如果一眼看出来有三五个模式可用，别人早就写好更优的代码了，不用自己造了 - Charles
15. 但是，一些优秀的设计模式被这么多人追捧是有一定道理了，也值得我们去学习和使用 - 如末
16. 是的，不是一味反对设计模式，而是我觉得设计模式有点像穷举法，会让你的思维固化在对号入座上 - 廖强
17. 设计模式，在设计一个框架的时候还是很有用的，并不是说只用一种模式，也不要局限于某一种模式，而是各种融汇贯通，使的框架具有健壮性，鲁棒性，同时符合高内聚，低耦合，对修改关闭，对扩展开发 - 踏雪无痕
18. 学习它是为了融会贯通那些最基本的好的原则 - 廖强
19. 基本原则就是 SOLID - 周成清
20. 设计模式也是写代码总结出来的，很大时候可以提高程序的健壮性，可扩展性。确实没有必要为了设计模式而设计模式，只是有些场合还是用比较好。只是有时候或者说不愿说是设计模式，就如jojo说的，其实也接近于设计模式。  - Imp
21. 其实，如果真的要在公司继续代码开发，我会练练设计模式，单例，工厂，注册，我觉的比较好理解， - 罗金龙
22. 说两个实际例子吧， 我们之前游戏的支付系统。 最开始我们是只接一个第三方的支付。 到后面慢慢要接渠道了， 开始没设计好， 这时候就醉了。 里面逻辑太多，不太敢大改，开始负责这个的人估计也不想改，太冒风险了。 那只能在里面慢慢加， 慢慢兼容。  到后面的结果就是，每接一个渠道，都要手动去服务器上改，而且可能几个人改。万一手抖下，就醉了， 支付跪了。我们也是够叼的，就这么坚持下来了。 😭。。   如果这个时候用什么工厂 策略或者装饰器啥的模式，就会很好解决这个问题。 - Imp
23. 所谓的哪个场景用什么模式，如果说得出来说明已经凝练到一定程度了，这种时候早就有最优类库了。所以这里的人也没法说什么场景用什么模式。最多也就说个开发框架，而框架本身就是凝练到一定程度的场景集合了。 - Charles
24. 设计模式先从抽象开始，然后慢慢的抽象你会发现满足不了了，然后会去想一些办法。 -  SunnySmileZ
25. 然后还有个就是现在我们做的一个平台， 现在要对接各个游戏，比如登录，支付，邀请码， 礼包码等等很多东西要走我们这边。  这个时候设计模式也是很重要的。多写点代码，复杂点都是值得的。 - Imp
26. 还有一个场景，例如某团的价格计算场景。根据不同的商品在不同的时间，销售数量，会员等级等等很多很多因素，计算最终商品价格。 这个如果不用设计模式，用过程式，简直是地域。。。。  - Nemo
27. 其实设计模式本身就是包含场景的[微笑] 名字已经很形象很具体的说 - rain
28. 设计模式是一种思路一种方法,无时无刻不在用吧,不过不要为设计而设计,导致过度设计,还是要结合业务发展情况的 - 范晓安
29. 过度设计是个很可怕的事情，嘻嘻 理解业务是基础，另外需要很多方面的数据报表来支持设计方案。 - 大饼
30. 写基类的时候要考虑耦合和扩展，适当使用合适的设计模式 - 淘小淘🔥🔥
31. 还是简单点入手吧。一个方法只干一件事。一个方法不超过一屏。。 很多时候，能满足这两点就已经很不错了。- tywei
32. 分析业务，划分服务，具化功能，考量数据，预判增长～然后再去整设计模型[白眼]
33. 谁能详细解答下 IOc的具体使用场景吗   比如lavarel的？这样做有什么好处？  
控制翻转  依赖注入 这些比较好的设计  总感觉无从下手   看代码觉得是这样的  但是这样做最核心的意义是什么呢？总感觉空空的  - 先为乱步  
回: 一句话描述：全局持有对象的引用 - 陈亦  
回: 我能理解成   用单一的容器（单例、工厂）去管理所有的依赖吗 - 先为乱步  
回: 差不多，在laravel里就是将对新挂在app上  
类似于Yii的component - 陈亦  
34. 异步队列处理用了生产者—消费者;  
xml，CSV资源加载用了单例;消息分发用了监听者模式;一些抽象地方用了代理模式。 - 程序员朋

#### 分享链接

1. 数据库深度解析 | 从NoSQL历史看未来 http://mp.weixin.qq.com/s?__biz=MzAwMDU1MTE1OQ==&mid=209753217&idx=1&sn=d3a021a7bd959cbf92ffc658336b2387&scene=1&srcid=hwrv3hFPMnVE7rOl1o7n&key=dffc561732c226511507a61e3591d2b1be92fa24a6ac7fd8a8761acd2932ecfe1fa05554dcfe81e7e6a905bd587dd705&ascene=0&uin=Njg3NDExNDU%3D&devicetype=iMac+MacBookPro11%2C1+OSX+OSX+10.10.5+build(14F27)&version=11020201&pass_ticket=dNdBORBIrN8fyeqrL2L1z6pRrtd3k8CpnIsCkLpxtG8%3D - 黑夜路人
2. 美团O2O供应链系统架构设计解析 http://mp.weixin.qq.com/s?__biz=MzAxNjAzMTQyMA==&mid=208147563&idx=1&sn=8b7395babb9c8c12e8aeb8acc1815f86&scene=1 - 阿杜
3. 谁让 APP 工程师产生了泡沫？ http://mp.weixin.qq.com/s?__biz=MzA5NjQzOTIzMg==&mid=207913222&idx=1&sn=504319666a826f8e940dd068fcda23cb&scene=1 - 轻裘长剑
4. Facebook 团队关于网页缓存的再实践 http://mp.weixin.qq.com/s?__biz=MjM5MzA0ODkyMA==&mid=211945504&idx=1&sn=087a807e02b38fc6e7765231a0f71885&scene=1 - 黑夜路人
5. App域名劫持之DNS高可用 - 开源版HttpDNS方案详解 http://mp.weixin.qq.com/s?__biz=MzAwMDU1MTE1OQ==&mid=209805123&idx=1&sn=ced8d67c3e2cc3ca38ef722949fa21f8&scene=1 - 老虎
6. SQL vs NoSQL Database Differences Explained with few Example DB http://www.thegeekstuff.com/2014/01/sql-vs-nosql-db/ - 塔克斯
