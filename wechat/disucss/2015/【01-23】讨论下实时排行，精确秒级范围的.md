> 转载自：<http://mp.weixin.qq.com/s?__biz=MzA3MDA2MjE2OQ==&mid=204189112&idx=1&sn=d820533a7597f6d4fba63ba7984b86c4&scene=1#rd>

1. 直接上redis的zset - 黑夜路人

2. 产品要先定好范围,比如一周,一月, 每个排行榜记一份 - twin

3. 比如你玩游戏,每次玩都有一个积分,你只保留最好积分,其他的记流水. 排行榜当然拿最好积分来排 - twin

4. https://github.com/fengli/downloads-redis 这个代码可以参考,主要是明确时间范围,记录多份 - twin

5. 配合我们今天的关于实时排名计算的话题，我分享一篇原cydu相关的文章：
微博计数器的设计（上）http://qing.blog.sina.com.cn/1639780001/61bd0ea133002460.html
微博计数器的设计（下）http://qing.blog.sina.com.cn/1639780001/61bd0ea1330025sq.html - 黑夜路人

6. 这个排行如果没有条件用zset完全可以搞定，并且效果很好。但是有一种情况就是带搜索条件的排行。比如时间段，比如大小分类等。 - 念念念恩他爹

7. 问: 带搜索条件的排行榜 举几个具体的例子吧 - rain

回: 比如前30天的某小类的审核通过的数据排行, 在搜索页面, 多重条件 - 念念念恩他爹

回: 如果是用户手动筛选的那就是另一个话题了 个人理解
常规的排行榜就是事先固定筛选条件的 官方产生的 - rain

回: 嗯。如果是搜索页面的那种 按照什么阅读数啊 播放数啊排行，很难做到秒级的实时吧。 - 念念念恩他爹

回: 固定条件的可以实时啊 如上的redis方案 只是多个排行而已. 动态筛选排行属于查询结果集排行的问题了 - rain

8. 问: 按月分表后跨月查询做分页，不借助ELASTICSEARCH等搜索引擎，还有什么方案么. 主从同步 用MRG_MYISAM做个总表性能怎么样 - mosen

回: 方案没有问题 性能取决于你的数据量和具体业务 - rain

9. 看数据量了，小就zset,大的话就storm等类似流处理了 - diwayou@高朋

10. 不过用zset应该比较吃内存，如果数据量非常庞大，比如100亿，估计单机压力很大。可能得自己设计数据结构。 - 黑夜路人

11. 按区间分块存吧。。这样可以快速根据区间知道在那块。然后做块内排序。抽象成一堆小数据量的排序 - Reilost

12. 分开排序，取topN，然后再汇总，再排序 - water000

【分享链接】

1. 惠新宸：我也曾经是“不适合”编程的人（图灵访谈） http://www.ituring.com.cn/article/142454 - 张三
