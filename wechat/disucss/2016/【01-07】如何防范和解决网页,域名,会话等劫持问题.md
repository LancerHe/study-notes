> 转载自：<http://mp.weixin.qq.com/s?__biz=MzA3MDA2MjE2OQ==&amp;mid=401604853&amp;idx=1&amp;sn=58f09ad4b994ec7fa5433b471c50b348&amp;scene=1&amp;srcid=0107l4VXUym2ASWVehj5ygnO#rd>

#### 今日话题

如何防范和解决网页,域名,会话等劫持问题 - 董磊

1. 使用https - 北北
2. 劫持一般分dns劫持，以及链路劫持，dns劫持一般有dns投毒，或者恶意修改dns解析，app上一般用httpdns解决，链路劫持一般是在客户端与服务器端之间的链路路由发起，要杜绝就得上https，防止被修改包，不然就打游击躲过投毒的那个路由，多机房部署，动态cdn，与运营商打好关系 - 林志勇
3. Https并不是防止，只是内容加密无法匹配内容投放广告，但是依然有恶心你的风险 - tiyee
4. 所谓的投广告实际上就是修改你的报文，https对称加密，不行那就非对称处理咯，一般碰到https一般都不会劫持你，成本太高 - 林志勇
5. 它解密不了你的报文，但是依然可加减东西进去 - tiyee
6. dns劫持 可以直接去工信部网站上投诉，效果非常好 - 踏雪无痕
7. 劫持的问题，只用http，各种技巧我觉得折腾意义不大。 还是的上https，域名解析问题基本也是httpdns来解决。腾讯的app接入能力技术，腾讯云上有个叫做， 维纳斯 WNS 二进制接入，在云端可以链接你自己原生的HTTP 这个东西我觉得也挺尴尬。虽然提供了网络调度，防劫持，最快介入，传输安全的能力，但是就会被绑架上了。有能力的可以模仿腾讯的做法。PC没撒好说的，防内容劫持就得上https，PC域名劫持，有人说下有什么方法 - @理鱼
8. 前段时间有人做了个处理，不知道现在还有用没有  
<!doctype html><!— <html><head></head><body></body></html> -->  
<html>….下面才是正式的内容  
我自己现在也是这么做的。 - 膘叔  
回: @膘叔 你这个方法等他们知道了，也就能绕过去了 - 李三 💤  
回: 我说的就是这种  
有用，但是。。你懂的  
我讲过直接在我所有js文件里面插入的  
心都碎了 - @理鱼
9. 没啥用 http最后都是攻防关系 直接https - 梁超
10. 其实很多劫持还真不是那些公司自己做的，而是公司的网管（说运维大了点）赚点零花钱而做的 - 膘叔
11. 域名劫持我们是在系统中直接加了一个静态变量，在用户每次访问的时候我们都会校验下，同时系统域名我们直接是在访问跳转的时候后台服务获取路径，直接跳转，所有的网页会话采用了通用的会话请求中token验证和https - 紫川
12. https可以解决大部分http会话劫持 - 范晓安
13. 部分模块走RSA也可以吧 - 亚飞正传
14. 如果是运营商插小广告,以前改content type也奏效过 现在好像不行了,技术在进步 - 范晓安
15. 用 app 探测 非自己用的域名，Webview 打开一个 h5被插入了 另外一个域名的 js 是能检查出来的，用域名得到 ip 去运营商投诉，再去 域名注册商投诉域名 - 陆旭
16. 投诉管用的话，就不会有劫持了。而且劫持就是运营商干的，投诉是投诉到工信部，弄一堆材料去投诉某个市的某个运营商，当时收敛一下，过两天又继续劫持
17. 如果不涉及到很多外部资源和接口的话，部署https的成本其实不是很高，流量小直接加个vhost配个证书，代码里加点判断就行了，流量大可能CPU扛不住需要虚机换实机，出现机房资源不足可能还需要挪个机房，涉及外部资源比较多的话就需要一个一个推动https，部署完慢慢放量就好了 - 晴天
18. 防劫持不好搞，但可以做监控，发现内容不对或header不对就告警 - 李刚
19. web 防盗 上https吧，域名劫持这个不好办呐 - 宋明明
20. https吧，其他暂时没有什么好办法。。。 - 王一
21. app可以用httpdns - 吕霖
22. 加密协议 - https - Jimmy

#### 分享链接

1. 为什么时间紧迫心急如焚的人反而更愿意去玩游戏？  https://mp.weixin.qq.com/s?__biz=MzA3NjU1NjM0Mw==&mid=401952222&idx=1&sn=c7fdfe6d54ad2d9303c1b7559caf5bb3 - 王磊
2. 秒杀系统架构分析与实战 http://my.oschina.net/xianggao/blog/524943 - pengVin
3. MySQL数据库的优化-运维架构师必会高薪技能，笔者近六年来一线城市工作实战经验 https://mp.weixin.qq.com/s?__biz=MzAxOTE5NjQwOA==&mid=401779092&idx=1&sn=d73ffafaeee24f884b00add20f74192a - Mutitty