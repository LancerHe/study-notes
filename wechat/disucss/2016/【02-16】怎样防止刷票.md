> 转载自：<http://mp.weixin.qq.com/s?__biz=MzA3MDA2MjE2OQ==&mid=401993957&idx=1&sn=215a827154bb111da4983f0e3a11d5f9&scene=23&srcid=0217I5314LJ8vePOHNVmHRtx#rd>

#### 今日话题

如何防止刷票

1. 问：搭车问我们有个登录接口，不停的有人刷，怎么防止绕过登录页直接试接口，目前就是加了个简单的验证码/封ip 但效果都不好, 有啥好办法么？  
回： 1 检查 pre url，来访页面，还有agent; -崔洪波,代号：红桃五  
2（这些都是可以伪造的吧？）有提供服务的公司，同盾科技，据说通过大数据，识别羊毛党和信誉差的用户，提供接口，他们销售电话150-1009-9981;-张洋

2. 防刷有很多方面。没办法绝对禁止，只能提高刷票成本。方法有1、用户身份识别：比如实名，比如手机号验证，比如需要注册账号（还可以加上禁止新注册的账号参与）。2、程序上控制：session,cookie,验证码，来源页，js脚本，Agent信息相同的出现频率（同IP下）;-李三

3. 其实，对于专业的，你就要从日志等找到专业刷票的特征，然后下对策；我以前弄过一个选美投票，就是从日志来找到规律，拦掉了大部分刷票的。-李三

4. 给登录页面加密token，并对这个token做有效期，他直接去请求你的api，如果繁琐、成本大了他自己就不去刷了；-崔洪波

5. ip累计计数应该能封掉一大批；-xman

6. 问：通过手机注册是不能防刷的，我们之前有次活动用户弄了上千个手机号，那些小号根本打不通，但可以收验证码。-张洋  
回： 1、那就语音验证码。-李三；  
2、语音验证码，给用户手机打电话，语音播放验证码；-rao

7. 防刷票： 1. IP限制、2. Cookies 验证、3. Session 验证、4. 验证码、5. MAC地址限制、6. 回答问题；-Mutitty

8. 我说一个：购票人个数限制 和一定时间内购票人信息不能删除 还有验证手机号；-轻裘长剑 ‍來自火星

9. 防刷票首要要看你投入产出比，只要能控制好投入产出比, 是不会有人想去刷票的；-我不叫大脸猫

10. ua+ip+行为分析+频率限制+验证码(图片, 短信, 语音)，综合考虑，单独一个都搞不定 ；-我不叫大脸猫
11. 账号限制可以玩的就多了, 比如注册时间多久, 账号积分, 以及一些其他的特定行为；-我不叫大脸猫

12. 没有任何方式是必然有效的，一切防刷的努力都能被破解，只要肯花钱。以我接触过的一些价格举例：识别设备的特征：这个毕竟是客户端上报的数据，所以随便伪造，无需花钱，电子邮箱：这个几乎是免费的，QQ号：信封号洗号后直售。0.15–0.50元/个不等，微信：号池养号出租。0.50–3.00元/个不等，IP：肉鸡池或代理服务器集群出租。0.50–10.00元/时不等，短信接收验证：猫池养卡代收。0.05–0.30元/次不等 另外唯有这个同时消耗防守方的资金，短信发送验证：猫池养卡代发。0.20–0.80元/次不等，传统验证码：图像识别。0.10–0.30元/个不等，复杂验证码：人工打号。0.20–0.80元/个不等（这个一般作为图像识别失败时的补充），同时还有自动点击脚本的定制服务，100–3000元/每套不等，可能要配合使用上边的资源作为消耗品，一般而言，以下的几种方法是比较划算的（即破解这些需要相对多的时间和金钱），IP限制、微信验证、复杂验证码、短信接收； -踏雪无痕
13. 限制实际上是成本对抗； -林志勇 

14. 实名认证，可以借助支付宝登录验证，也是一个办法。只要支付宝是实名的，就通过； - 李三

15. 问：支付宝这个东西有强私密性。一般用户都不会用支付宝授权的； -熊mao  
支付宝会赶跑部分用户吧  不是强需求的话  不会选择支付宝登录的； -橙色  
支付宝目前只开房了网页授权，没有开放APP登录授权；-Orc_LaoT  
答：这个本来就是一个找平衡点的活，能不能用支付宝登录看情景。其实身份证上传，很多人也是不愿意的，而且可能更反感，只是手段之一，不是唯一；-李三

#### 分享链接

1. [微信提现收费罪在银行？抱歉，这锅弱势群体不背 : http://mp.weixin.qq.com/s?__biz=MTQzMjE1NjQwMQ==&mid=405710226&idx=1&sn=8a143b2c9781126a254f6e280f1eaa43&scene=1&srcid=0216xeBfK7leqBVds7Vd8tTF#rd] -赵拂衣

2. 感觉极验验证做的按个认证码还不错 http://www.geetest.com/ ；-star

3. 关于防刷票的一些问题 http://www.cnblogs.com/chenpingzhao/p/4965847.html ； -踏雪无痕
